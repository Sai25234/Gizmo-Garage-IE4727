<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registration</title>
    <link rel="stylesheet" href="css/main.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <img
      src="images/gizmogaragelogo.png"
      id="form-logo"
      alt="Gizmo Garage Logo"
    />
    <div class="signup-box">
      <h2>Sign Up</h2>
      <form action="register.php" method="POST" onsubmit="return validateSignUp()">
        <div class="input-group">
          <label for="email">Email Address</label>
          <input
            type="email"
            id="email"
            name="email"
            onchange="validateEmail(this)"
            required
          />
          <span id="errorEmail"></span>
        </div>
        <div class="input-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" onchange="matchPasswords()" required />
        </div>
        <div class="input-group">
          <label for="confirmpassword">Confirm Password</label>
          <input
            type="password"
            id="confirmpassword"
            name="confirmpassword"
            onchange="matchPasswords()"
            required
          />
          <span id="errorConfirmpassword"></span>
        </div>
        <button type="submit" id="homepage-button">Sign Up Now!</button>
      </form>
      <hr />
      <div class="form-bottom">
        <p>Already a registered Garage-r?</p>
        <a href="login.html"><button class="form-btn">Log In</button></a>
      </div>
    </div>
    <div class="login-footer">
      <a href="/privacy">Privacy Notice</a>
      <a href="index.html">Return to Homepage</a>
    </div>
    <div class="web-credits"><p>Â© 2024 A Website by Ariel & Sai</p></div>
    <script>
      function validateEmail(emailinput) {
        const emailValidation = /^[\w.-]+@([\w]+\.){1,3}[\w]{2,3}$/;
        var inputEmail = emailinput.value;
        var validEmail = emailValidation.test(inputEmail);

        if (!validEmail) {
          document.getElementById("errorEmail").innerHTML =
            "Invalid email address format";
          emailinput.focus();
          emailinput.select();
          return false;
        } else {
          document.getElementById("errorEmail").innerHTML = "";
          return true;
        }
      }
      function matchPasswords() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirmpassword").value;
        if (password != confirmPassword) {
          document.getElementById("errorConfirmpassword").innerHTML =
            "Passwords do not match.";
          return false;
        } else {
          document.getElementById("errorConfirmpassword").innerHTML = "";
          return true;
        }
      }
      function validateSignUp() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        var confirmpassword = document.getElementById("confirmpassword").value;
        var validEmail = validateEmail(document.getElementById("email"));
        var matchingPasswords = matchPasswords();
        if (email == "" || password == "" || confirmpassword == "") {
          alert("Please fill out all fields");
          return false;
        } else if (!validEmail || !matchingPasswords) {
          alert("Invalid registration details!");
          return false;
        } else {
          alert("Registration successful!");
          return true;
        }
      }
    </script>
  </body>
</html>
